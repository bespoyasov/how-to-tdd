<section id='make-computer-throw'>
  <div class='grid'>
    <div class='text'>
      <h2>
        –ó–∞—Å—Ç–∞–≤–ª—è–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä –≥–æ–≤–æ—Ä–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ
        <a href='#make-computer-throw' class='anchor'>üîó</a>
      </h2>
    </div>
  </div>

  <div class='grid'>
    <div class='text'>
      <p>–ú—ã —É—á–ª–∏ —Å–∏—Ç—É–∞—Ü–∏—é —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º —Ü–∏–∫–ª–æ–º, –Ω–æ –ø—Ä–æ—Å—Ç–æ —É–º–æ–ª—á–∞—Ç—å –æ –Ω–µ–π –±—ã–ª–æ –±—ã –ø–ª–æ—Ö–æ. –ü—É—Å—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è –µ–≥–æ —Ö–æ–¥–∞ –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å –Ω–∏ –æ–¥–Ω–æ–π —Å–≤–æ–±–æ–¥–Ω–æ–π –∫–ª–µ—Ç–∫–∏.</p>
      <p>–í–æ–∑–º–æ–∂–Ω–æ, –≤ –±—É–¥—É—â–µ–º –º—ã –ø–æ–º–µ–Ω—è–µ–º —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –ù–æ —Å–µ–π—á–∞—Å —Ç–∞–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –∫–∞–∂–µ—Ç—Å—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π, –ø–æ—ç—Ç–æ–º—É –ª—É—á—à–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—ë –∫–∞–∫ –æ—à–∏–±–∫—É.</p>
    </div>

    <div class='code'>
<pre data-start='112'><div class='code-filename'>test/game.js</div><code class='language-js line-numbers'>test('If there are no free cells computer throws an exception', () => {
  // fill all the cells
  for (let i = 0; i &lt; 3; ++i) {
    for (let j = 0; j &lt; 3; ++j) {
      game.acceptUserMove(i, j)
    }
  }

  const func = game.createComputerMove.bind(game)
  expect(func).toThrow('no cells available')
})</code></pre>
    </div>
  </div>

  <div class='grid'>
    <div class='text'>
      <p>–ó–¥–µ—Å—å –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –º–µ—Ç–æ–¥ <code>_throwException</code>, –∫–æ—Ç–æ—Ä—ã–π –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–ª–∏ —Ä–∞–Ω–µ–µ.</p>
      <p>–î–æ–ø–∏—à–µ–º —É—Å–ª–æ–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—É—Å—Ç—ã—Ö –∫–ª–µ—Ç–æ–∫, –¥–æ–±–∞–≤–∏–≤ —Ç—É–¥–∞ –ø–µ—Ä–µ–¥–∞—á—É –æ—à–∏–±–æ–∫.</p>
    </div>

    <div class='code'>
<pre data-start='30'><div class='code-filename'>src/Game.js</div><code class='language-diff line-numbers'>  createComputerMove() {
-   if (this._getFreeCellsCount() === 0) return false
+   if (this._getFreeCellsCount() === 0) {
+     return this._throwException('no cells available')
+   }</code></pre>
    </div>
  </div>

  <div class='grid'>
    <div class='text'>
      <p>–í –Ω–æ–≤–æ–º —Ç–µ—Å—Ç–µ –µ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –∫—É—Å–æ–∫ —Å –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –¥–æ—Å–∫–∏ –∫—Ä–µ—Å—Ç–∏–∫–∞–º–∏. –ú—ã –∏–∑–º–µ–Ω–∏–º —Ñ—É–Ω–∫—Ü–∏—é <code>fillCells</code>, –¥–æ–±–∞–≤–∏–≤ –∫–æ–Ω—Ñ–∏–≥ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ–π –∫–ª–µ—Ç–∫–∏, –∫–æ—Ç–æ—Ä—É—é –Ω–∞–¥–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç–æ–π. –ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥ –Ω–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω, —Ç–æ –±—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –Ω–∞–¥–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –∫–ª–µ—Ç–∫–∏.</p>
      <p>–ù–µ –∑–∞–±—ã–≤–∞–µ–º –æ–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª <code>fillCells</code>. –î–æ–±–∞–≤–ª—è–µ–º –µ–º—É –∫–æ–Ω—Ñ–∏–≥ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∫–ª–µ—Ç–∫–∏, –∫–æ—Ç–æ—Ä—É—é —Ö–æ—Ç–∏–º –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç–æ–π.</p>
      <p>–í –Ω–æ–≤–æ–º —Ç–µ—Å—Ç–µ –∑–∞–ø–æ–ª–Ω—è–µ–º –≤—Å–µ –∫–ª–µ—Ç–∫–∏, –ø–æ—ç—Ç–æ–º—É –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –±–µ–∑ –∫–æ–Ω—Ñ–∏–≥–∞.</p>
      <p>–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø–æ–∫—Ä–∞—Å–Ω–µ–ª–∏ –ª–∏ —Ç–µ—Å—Ç—ã.</p>
    </div>

    <div class='code'>
<pre data-start=''><div class='code-filename'>test/game.js</div><code class='language-diff line-numbers'>- const fillCells = game => {
+ const fillCells = (game, config={}) => {
+   const { x=-1, y=-1 } = config

  // ...

    for (let j = 0; j &lt; 3; j++) {
-     if (i !== 2 || j !== 2) game.acceptUserMove(i, j)
+     if (i !== x || j !== y) game.acceptUserMove(i, j)
    }

  // ...

  test('Computer moves in cell that is not taken', () => {
-   fillCells(game)
+   fillCells(game, {x: 2, y: 2})

  // ...

  test('If there are no free cells computer throws an exception', () => {
-   // fill all the cells
-   for (let i = 0; i &lt; 3; ++i) {
-     for (let j = 0; j &lt; 3; ++j) {
-       game.acceptUserMove(i, j)
-     }
-   }
+   fillCells(game)</code></pre>
    </div>
  </div>
</section>
