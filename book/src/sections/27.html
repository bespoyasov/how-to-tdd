<section id='dsl'>
  <div class='grid'>
    <div class='text'>
      <h2>
        <abbr>DSL</abbr>
        <a href='#dsl' class='anchor'>üîó</a>
      </h2>
    </div>
  </div>

  <div class='grid'>
    <div class='text'>
      <p>–í –∫–æ–¥–µ —Ç–µ—Å—Ç–∞ –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –≤—Å—ë —Ö–æ—Ä–æ—à–æ. –ú—ã –æ–±—ä—è–≤–ª—è–µ–º, –≤ –∫–∞–∫–∏–µ –∫–ª–µ—Ç–∫–∏ –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç—å –∫—Ä–µ—Å—Ç–∏–∫, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ–±–µ–¥–∏–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.</p>
      <p>–ù–æ –ø–æ–ø—Ä–æ–±—É–µ–º –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å ¬´–≤–∑–≥–ª—è–¥–æ–º –Ω–æ–≤–∏—á–∫–∞¬ª –Ω–∞ <code>game.acceptUserMove(0, 0)</code>. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞—Ç—å –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∫–ª–∞—Å—Å–∞, —Ç–æ —Å–æ–æ–±—Ä–∞–∑–∏—Ç—å, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞, —Ç—Ä—É–¥–Ω–æ.</p>
      <p>–≠—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–æ–π, –∫–æ–≥–¥–∞ –º—ã –ø–µ—Ä–µ–≤–æ–¥–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å —è–∑—ã–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ —è–∑—ã–∫ –±–∏–∑–Ω–µ—Å–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ. –†–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ—Å—Ç–∞–º–∏ –º–æ–≥—É—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –Ω–æ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∏ –∏ –∫—Ç–æ —É–≥–æ–¥–Ω–æ –µ—â—ë.</p>
      <p>–í —ç—Ç–æ–º —Ç–µ—Å—Ç–µ –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –µ—Å–ª–∏ –Ω–∞ –¥–æ—Å–∫–µ —Å—Ç—Ä–æ—á–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫–∞–º–∏, —Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–±–µ–¥–∏–ª. –ë—ã–ª–æ –±—ã –∫—Ä—É—Ç–æ –ø—Ä—è–º–æ —Ç–∞–∫ –∏ –Ω–∞–ø–∏—Å–∞—Ç—å.</p>
      <p>–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –º—ã –º–æ–∂–µ–º —Ç–∞–∫ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–π —Ç–µ—Å—Ç. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <a href='https://ru.wikipedia.org/wiki/DSL'><abbr>DSL</abbr></a>. –î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —á—Ç–æ-—Ç–æ, —á—Ç–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –º–µ—Ç–æ–¥ <code>setBoardState</code> –≤ –ø–æ–Ω—è—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –∫–ª–∞—Å—Å–∞ <code>Game</code>.</p>
      <p>–î–ª—è —Ç–∞–∫–∏—Ö —Ü–µ–ª–µ–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <a href='https://www.dofactory.com/javascript/builder-design-pattern'>–ø–∞—Ç—Ç–µ—Ä–Ω —Å—Ç—Ä–æ–∏—Ç–µ–ª—å (builder)</a>. –ö–ª–∞—Å—Å <code>GameBuilder</code> –≤–æ–∑—å–º—ë—Ç –Ω–∞ —Å–µ–±—è –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä—ã —Å –Ω—É–∂–Ω–æ–π –Ω–∞–º –¥–æ—Å–∫–æ–π.</p>
      <p>–ö–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–æ–≤-—Å—Ç—Ä–æ–∏—Ç–µ–ª–µ–π –≤ —Ç–æ–º, —á—Ç–æ –≤ –∫–∞–∂–¥–æ–º –º–µ—Ç–æ–¥–µ <code>with-</code> –æ–Ω–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç <code>this</code>. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø—Ä–∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –º—ã –º–æ–∂–µ–º —Å–æ–≤–º–µ—â–∞—Ç—å –º–µ—Ç–æ–¥—ã –≤ —Ü–µ–ø–æ—á–∫–∏, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω—É–∂–Ω—ã–π –Ω–∞–º –æ–±—ä–µ–∫—Ç.</p>
      <p>–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ <code>build</code>, —á—Ç–æ–±—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å –≤–µ—Ä–Ω—É–ª —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.</p>
      <p>–¢–µ–ø–µ—Ä—å –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–±–µ–¥—ã —É–¥–æ–±–Ω–µ–µ –∏ –Ω–∞–≥–ª—è–¥–Ω–µ–µ.</p>
    </div>

    <div class='code'>
<pre><div class='code-filename'>// pseudocode</div><code class='language-js line-numbers'>somegame.setBoardState(`
  x x x
  . . .
  . . .
`)</code></pre>

<pre><div class='code-filename'>test/GameBuilder.js</div><code class='language-js line-numbers'>import Game from '../src/Game'

class GameBuilder {
  constructor() {
    this.game = new Game()
  }

  withBoardState(state) {
    state = state
      .split('\n')
      .filter(item => !!item.trim())
      .map(item => item.trim().split(' '))

    state.forEach((item, i) => {
      item.forEach((symbol, j) => {
        if (symbol === 'x') this.game.acceptUserMove(i, j)
      })
    })

    // will allow us to chain methods
    return this
  }

  build() {
    return this.game
  }
}

export default GameBuilder</code></pre>

<pre><div class='code-filename'>test/game.js</div><code class='language-js line-numbers'>import GameBuilder from '../src/GameBuilder'

// ...

test('Checks if user won by horizontal', () => {
  const game = new GameBuilder()
    .withBoardState(`
      x x x
      . . .
      . . .`)
    .build()

  const userWon = game.isWinner(userName)
  expect(userWon).to.equal(true)
})</code></pre>
    </div>
  </div>
</section>
